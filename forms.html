<html ng-app="forms">
<head>
	<title>Forms</title>
	<script 
		src="angular.js">
	</script>
	<script src="forms.js"></script>
	<script type="text/javascript" 
		src="node_modules/angular-messages/angular-messages.js">
	</script>

	<style>
		.error {
			color: red;
		}

		input.ng-dirty.ng-invalid {
			border: 1px solid red;
		}

		input.ng-dirty.ng-valid {
			border: 1px solid green;
		}
	</style>
</head>

<body>
<div ng-controller="signupController">
	<form name="signup_form" novlidate ng-submit="signupForm()">
		<fieldset>
			<legend>Signup</legend>
			
			<div class="row">
				<div class="large-12 columns">
					<label>Your name</label>
					<input type="text"
						placeholder="Name"
						name="name"
						ng-model="sinup.name"
						ng-minlength=3
						ng-maxlength=20 required ng-focus>
				</div>
				<div class="error"
					ng-messages="signup_form.name.$error">
					<div ng-messages-include="templates/errors.html"></div>
				</div>
			</div>

			<div class="row">
				<div class="large-12 columns">
					<label>Your email</label>
					<input type="email"
						name="email"
						placeholder="Email"
						ng-model="signup.email"
						ng-minlength=3
						ng-maxlength=20
						required/>
					<div class="error"
						ng-messages="signup_form.email.$error" ng-messages-multiple>
						<div class="error"
							ng-message="required">
							Your email is required
						</div> 
						<div class="error"
							ng-message="minlength">
							Your email must be at least 3 characters
						</div>
						<div class="error"
							ng-message="email">
							Please input a valid email
						</div>
						<div class="error"
							ng-message="maxlength">
							Your email cannot be longer than 20 characters
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="large-12 columns">
					<label>Username</label>
					<input type="text"
						name="username"
						placeholder="Desired username"
						ng-model="signup.username"
						ng-minlength=3
						ng-maxlength=20
						ensure-unique="username" required/>
					<div class="error"
						ng-messages="signup_form.username.$error" ng-messages-multiple>
						<div class="error"
							ng-message="required">
							Your username is required
						</div> 
						<div class="error"
							ng-message="minlength">
							Your username must be at least 3 characters
						</div>
						<div class="error"
							ng-message="maxlength">
							Your username cannot be longer than 20 characters
						</div>
						<div class="error"
							ng-message="ensure-unique">
							That username is taken, please try another
						</div>
					</div>
				</div>
			</div>

			<button type="submit" class="button radius">Submit</button>
		</fieldset>
	</form>
</div>

</body>
</html>